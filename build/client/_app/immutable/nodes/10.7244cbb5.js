import{_ as __vitePreload}from"../chunks/preload-helper.a4192956.js";import{s as safe_not_equal,r as create_slot,f as element,l as text,a as space,g as claim_element,h as children,m as claim_text,d as detach,c as claim_space,A as get_svelte_dataset,j as attr,T as src_url_equal,k as set_style,i as insert_hydration,x as append_hydration,n as set_data,u as update_slot_base,v as get_all_dirty_from_scope,w as get_slot_changes,e as empty,S as destroy_each,y as noop,B as listen,U as get_store_value,o as onMount,K as run_all}from"../chunks/scheduler.ce5fb7fd.js";import{S as SvelteComponent,i as init,a as transition_in,t as transition_out,b as create_component,d as claim_component,m as mount_component,e as destroy_component,g as group_outros,c as check_outros}from"../chunks/index.cdd0258f.js";import{e as ensure_array_like}from"../chunks/each.e59479a4.js";import{w as writable}from"../chunks/index.4afc524e.js";import{i as incorrect,c as correct,b as bg_msc}from"../chunks/correct.980f2511.js";import{a as api}from"../chunks/js.cookie.edb2da2a.js";/* empty css                      */import{i as io}from"../chunks/webSocketConnection.61438940.js";import{M as Modal}from"../chunks/Modal.dbb8c5fa.js";const ssr=!1,_page=Object.freeze(Object.defineProperty({__proto__:null,ssr},Symbol.toStringTag,{value:"Module"})),count=writable(0),current_question=writable(),hp=writable(5),comboCounter=writable(0),time=writable(60),win=writable([["a0","a1","a2","a3","a4"],["b5","b6","b7","b8","b9"],["c10","c11","c12","c13","c14"],["d15","d16","d17","d18","d19"],["e20","e21","e22","e23","e24"],["a0","b5","c10","d15","e20"],["a1","b6","c11","d16","e21"],["a2","b7","c12","d17","e22"],["a3","b8","c13","d18","e23"],["a4","b9","c14","d19","e24"],["a0","b6","c12","d18","e24"],["a4","b8","c12","d16","e20"]]),answer_matrix=writable([]),win_status=writable(0),correct_count=writable(0),wrong_count=writable(0),bonus_hp=writable(0),max=writable(24),trigger=writable(!1),multiplayer=writable(!1),game_start=writable(!1),lowTime=""+new URL("../assets/time.83b74d97.wav",import.meta.url).href,card_svelte_svelte_type_style_lang="";function get_each_context$1(s,e,l){const t=s.slice();return t[12]=e[l].count,t[14]=l,t}function get_each_context_1$1(s,e,l){const t=s.slice();return t[12]=e[l].count,t[14]=l,t}function create_each_block_1$1(s){let e,l='<img class="heart svelte-1yedsaz" src="/src/routes/assets/images/heart.png" alt=""/>';return{c(){e=element("span"),e.innerHTML=l,this.h()},l(t){e=claim_element(t,"SPAN",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1vm5k3j"&&(e.innerHTML=l),this.h()},h(){attr(e,"class","svelte-1yedsaz")},m(t,a){insert_hydration(t,e,a)},p:noop,d(t){t&&detach(e)}}}function create_key_block_1(s){let e,l=ensure_array_like(s[3]),t=[];for(let a=0;a<l.length;a+=1)t[a]=create_each_block_1$1(get_each_context_1$1(s,l,a));return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=empty()},l(a){for(let i=0;i<t.length;i+=1)t[i].l(a);e=empty()},m(a,i){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(a,i);insert_hydration(a,e,i)},p(a,i){if(i&8){l=ensure_array_like(a[3]);let n;for(n=0;n<l.length;n+=1){const r=get_each_context_1$1(a,l,n);t[n]?t[n].p(r,i):(t[n]=create_each_block_1$1(),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(a){a&&detach(e),destroy_each(t,a)}}}function create_each_block$1(s){let e,l='<img class="heart svelte-1yedsaz" src="/src/routes/assets/images/heart.png" alt=""/>';return{c(){e=element("span"),e.innerHTML=l,this.h()},l(t){e=claim_element(t,"SPAN",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1vm5k3j"&&(e.innerHTML=l),this.h()},h(){attr(e,"class","svelte-1yedsaz")},m(t,a){insert_hydration(t,e,a)},p:noop,d(t){t&&detach(e)}}}function create_key_block$1(s){let e,l=ensure_array_like(s[3]),t=[];for(let a=0;a<l.length;a+=1)t[a]=create_each_block$1(get_each_context$1(s,l,a));return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=empty()},l(a){for(let i=0;i<t.length;i+=1)t[i].l(a);e=empty()},m(a,i){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(a,i);insert_hydration(a,e,i)},p(a,i){if(i&8){l=ensure_array_like(a[3]);let n;for(n=0;n<l.length;n+=1){const r=get_each_context$1(a,l,n);t[n]?t[n].p(r,i):(t[n]=create_each_block$1(),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(a){a&&detach(e),destroy_each(t,a)}}}function create_fragment$2(s){let e,l,t,a,i,n,r,o,p,w,k="Timer:",$,f,v,u,b,Y,M,z,P,c,C,E,K="Lives:",D,X=s[3],ae,R,T,_e="Combo counter:",Z,L,A,le,_,q,j,g,x,O,W,de='<p class="svelte-1yedsaz">Game mode:</p> <br/> <span class="svelte-1yedsaz">Multiplayer Mode</span>',ne,N,oe,J,I,B,G,Q="Multiplayer Mode",U,y,V,ce,d,m,H,pe,xe,me,Ie,$e,he,ee,ue,Se=s[3],Pe,te,we,se,Te,Ue,Ee,ve,tt,Ye,Ae,Qe,ke,We,Ne,Je,Fe,Ce,De,F,ge=create_key_block_1(s);const Ke=s[10].default,re=create_slot(Ke,s,s[9],null);let be=create_key_block$1(s);const Xe=s[10].default,ie=create_slot(Xe,s,s[9],null);return{c(){e=element("div"),l=element("div"),t=element("div"),a=element("span"),i=text("Question: Â  "),n=text(s[2]),r=text(" = ?"),o=space(),p=element("div"),w=element("p"),w.textContent=k,$=space(),f=element("span"),v=element("img"),b=space(),Y=text(s[1]),M=text("s "),z=element("img"),c=space(),C=element("div"),E=element("p"),E.textContent=K,D=space(),ge.c(),ae=space(),R=element("div"),T=element("p"),T.textContent=_e,Z=space(),L=element("span"),A=element("img"),_=text(`\r
				Â Â Â `),q=text(s[0]),j=text(`Â Â Â \r
				`),g=element("img"),O=space(),W=element("div"),W.innerHTML=de,ne=space(),N=element("div"),re&&re.c(),J=space(),I=element("div"),B=element("div"),G=element("p"),G.textContent=Q,U=space(),y=element("span"),V=element("img"),d=space(),m=element("span"),H=text(s[1]),pe=text("s"),xe=space(),me=element("img"),$e=space(),he=element("div"),ee=element("p"),ue=text(`Lives:\r
			`),be.c(),Pe=space(),te=element("p"),we=text("Combo:Â "),se=element("span"),Te=text(s[0]),Ue=text(`\r
				Â `),Ee=element("span"),ve=element("img"),Ye=space(),Ae=element("hr"),Qe=space(),ke=element("span"),We=text("Question: Â  "),Ne=text(s[2]),Je=text(" = ?"),Fe=space(),Ce=element("div"),ie&&ie.c(),this.h()},l(h){e=claim_element(h,"DIV",{class:!0});var S=children(e);l=claim_element(S,"DIV",{class:!0});var fe=children(l);t=claim_element(fe,"DIV",{class:!0});var at=children(t);a=claim_element(at,"SPAN",{class:!0});var Le=children(a);i=claim_text(Le,"Question: Â  "),n=claim_text(Le,s[2]),r=claim_text(Le," = ?"),Le.forEach(detach),at.forEach(detach),o=claim_space(fe),p=claim_element(fe,"DIV",{class:!0});var je=children(p);w=claim_element(je,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(w)!=="svelte-1v6xktn"&&(w.textContent=k),$=claim_space(je),f=claim_element(je,"SPAN",{class:!0});var qe=children(f);v=claim_element(qe,"IMG",{src:!0,alt:!0,class:!0}),b=claim_space(qe),Y=claim_text(qe,s[1]),M=claim_text(qe,"s "),z=claim_element(qe,"IMG",{src:!0,alt:!0,class:!0}),qe.forEach(detach),je.forEach(detach),c=claim_space(fe),C=claim_element(fe,"DIV",{class:!0});var Oe=children(C);E=claim_element(Oe,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(E)!=="svelte-1b7hjqh"&&(E.textContent=K),D=claim_space(Oe),ge.l(Oe),Oe.forEach(detach),ae=claim_space(fe),R=claim_element(fe,"DIV",{class:!0});var He=children(R);T=claim_element(He,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(T)!=="svelte-1j6bdvw"&&(T.textContent=_e),Z=claim_space(He),L=claim_element(He,"SPAN",{class:!0});var Me=children(L);A=claim_element(Me,"IMG",{src:!0,alt:!0,style:!0,class:!0}),_=claim_text(Me,`\r
				Â Â Â `),q=claim_text(Me,s[0]),j=claim_text(Me,`Â Â Â \r
				`),g=claim_element(Me,"IMG",{src:!0,alt:!0,style:!0,class:!0}),Me.forEach(detach),He.forEach(detach),O=claim_space(fe),W=claim_element(fe,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(W)!=="svelte-1eha2vw"&&(W.innerHTML=de),fe.forEach(detach),ne=claim_space(S),N=claim_element(S,"DIV",{class:!0});var lt=children(N);re&&re.l(lt),lt.forEach(detach),S.forEach(detach),J=claim_space(h),I=claim_element(h,"DIV",{class:!0});var Re=children(I);B=claim_element(Re,"DIV",{class:!0});var ye=children(B);G=claim_element(ye,"P",{style:!0,class:!0,"data-svelte-h":!0}),get_svelte_dataset(G)!=="svelte-1oaz1pm"&&(G.textContent=Q),U=claim_space(ye),y=claim_element(ye,"SPAN",{style:!0,class:!0});var ze=children(y);V=claim_element(ze,"IMG",{src:!0,alt:!0,class:!0}),d=claim_space(ze),m=claim_element(ze,"SPAN",{id:!0,class:!0});var Ze=children(m);H=claim_text(Ze,s[1]),pe=claim_text(Ze,"s"),Ze.forEach(detach),xe=claim_space(ze),me=claim_element(ze,"IMG",{src:!0,alt:!0,class:!0}),ze.forEach(detach),$e=claim_space(ye),he=claim_element(ye,"DIV",{class:!0});var Be=children(he);ee=claim_element(Be,"P",{style:!0,class:!0});var et=children(ee);ue=claim_text(et,`Lives:\r
			`),be.l(et),et.forEach(detach),Pe=claim_space(Be),te=claim_element(Be,"P",{style:!0,class:!0});var Ve=children(te);we=claim_text(Ve,"Combo:Â "),se=claim_element(Ve,"SPAN",{style:!0,class:!0});var nt=children(se);Te=claim_text(nt,s[0]),nt.forEach(detach),Ue=claim_text(Ve,`\r
				Â `),Ee=claim_element(Ve,"SPAN",{class:!0});var st=children(Ee);ve=claim_element(st,"IMG",{src:!0,alt:!0,style:!0,class:!0}),st.forEach(detach),Ve.forEach(detach),Be.forEach(detach),Ye=claim_space(ye),Ae=claim_element(ye,"HR",{class:!0}),Qe=claim_space(ye),ke=claim_element(ye,"SPAN",{class:!0});var Ge=children(ke);We=claim_text(Ge,"Question: Â  "),Ne=claim_text(Ge,s[2]),Je=claim_text(Ge," = ?"),Ge.forEach(detach),ye.forEach(detach),Fe=claim_space(Re),Ce=claim_element(Re,"DIV",{class:!0});var rt=children(Ce);ie&&ie.l(rt),rt.forEach(detach),Re.forEach(detach),this.h()},h(){attr(a,"class","svelte-1yedsaz"),attr(t,"class","question-box svelte-1yedsaz"),attr(w,"class","svelte-1yedsaz"),src_url_equal(v.src,u="/src/routes/assets/images/8bit-hrglass.gif")||attr(v,"src",u),attr(v,"alt",""),attr(v,"class","svelte-1yedsaz"),src_url_equal(z.src,P="/src/routes/assets/images/8bit-hrglass.gif")||attr(z,"src",P),attr(z,"alt",""),attr(z,"class","svelte-1yedsaz"),attr(f,"class","svelte-1yedsaz"),attr(p,"class","svelte-1yedsaz"),attr(E,"class","svelte-1yedsaz"),attr(C,"class","svelte-1yedsaz"),attr(T,"class","svelte-1yedsaz"),src_url_equal(A.src,le="/src/routes/assets/images/combo.gif")||attr(A,"src",le),attr(A,"alt",""),set_style(A,"display",s[5]),attr(A,"class","svelte-1yedsaz"),src_url_equal(g.src,x="/src/routes/assets/images/combo.gif")||attr(g,"src",x),attr(g,"alt",""),set_style(g,"display",s[5]),attr(g,"class","svelte-1yedsaz"),attr(L,"class","svelte-1yedsaz"),attr(R,"class","svelte-1yedsaz"),attr(W,"class","svelte-1yedsaz"),attr(l,"class","question svelte-1yedsaz"),attr(N,"class",oe="card "+s[4]+" svelte-1yedsaz"),attr(e,"class","card-container svelte-1yedsaz"),set_style(G,"margin","auto"),set_style(G,"font-weight","bold"),attr(G,"class","svelte-1yedsaz"),src_url_equal(V.src,ce="/src/routes/assets/images/8bit-hrglass.gif")||attr(V,"src",ce),attr(V,"alt",""),attr(V,"class","svelte-1yedsaz"),attr(m,"id","timer"),attr(m,"class","svelte-1yedsaz"),src_url_equal(me.src,Ie="/src/routes/assets/images/8bit-hrglass.gif")||attr(me,"src",Ie),attr(me,"alt",""),attr(me,"class","svelte-1yedsaz"),set_style(y,"margin","auto"),set_style(y,"display","flex"),attr(y,"class","svelte-1yedsaz"),set_style(ee,"display","flex"),set_style(ee,"align-items","center"),attr(ee,"class","svelte-1yedsaz"),set_style(se,"font-size","2rem"),set_style(se,"font-weight","bold"),set_style(se,"font-family","Arial"),attr(se,"class","svelte-1yedsaz"),src_url_equal(ve.src,tt="/src/routes/assets/images/combo.gif")||attr(ve,"src",tt),attr(ve,"alt",""),set_style(ve,"display",s[5]),attr(ve,"class","svelte-1yedsaz"),attr(Ee,"class","svelte-1yedsaz"),set_style(te,"display","flex"),set_style(te,"align-items","center"),attr(te,"class","svelte-1yedsaz"),attr(he,"class","player-stat svelte-1yedsaz"),attr(Ae,"class","svelte-1yedsaz"),attr(ke,"class","svelte-1yedsaz"),attr(B,"class","question-box svelte-1yedsaz"),attr(Ce,"class",De="card "+s[4]+" svelte-1yedsaz"),attr(I,"class","mobile-view svelte-1yedsaz")},m(h,S){insert_hydration(h,e,S),append_hydration(e,l),append_hydration(l,t),append_hydration(t,a),append_hydration(a,i),append_hydration(a,n),append_hydration(a,r),append_hydration(l,o),append_hydration(l,p),append_hydration(p,w),append_hydration(p,$),append_hydration(p,f),append_hydration(f,v),append_hydration(f,b),append_hydration(f,Y),append_hydration(f,M),append_hydration(f,z),append_hydration(l,c),append_hydration(l,C),append_hydration(C,E),append_hydration(C,D),ge.m(C,null),append_hydration(l,ae),append_hydration(l,R),append_hydration(R,T),append_hydration(R,Z),append_hydration(R,L),append_hydration(L,A),append_hydration(L,_),append_hydration(L,q),append_hydration(L,j),append_hydration(L,g),append_hydration(l,O),append_hydration(l,W),append_hydration(e,ne),append_hydration(e,N),re&&re.m(N,null),insert_hydration(h,J,S),insert_hydration(h,I,S),append_hydration(I,B),append_hydration(B,G),append_hydration(B,U),append_hydration(B,y),append_hydration(y,V),append_hydration(y,d),append_hydration(y,m),append_hydration(m,H),append_hydration(m,pe),append_hydration(y,xe),append_hydration(y,me),append_hydration(B,$e),append_hydration(B,he),append_hydration(he,ee),append_hydration(ee,ue),be.m(ee,null),append_hydration(he,Pe),append_hydration(he,te),append_hydration(te,we),append_hydration(te,se),append_hydration(se,Te),append_hydration(te,Ue),append_hydration(te,Ee),append_hydration(Ee,ve),append_hydration(B,Ye),append_hydration(B,Ae),append_hydration(B,Qe),append_hydration(B,ke),append_hydration(ke,We),append_hydration(ke,Ne),append_hydration(ke,Je),append_hydration(I,Fe),append_hydration(I,Ce),ie&&ie.m(Ce,null),F=!0},p(h,[S]){(!F||S&4)&&set_data(n,h[2]),(!F||S&2)&&set_data(Y,h[1]),S&8&&safe_not_equal(X,X=h[3])?(ge.d(1),ge=create_key_block_1(h),ge.c(),ge.m(C,null)):ge.p(h,S),(!F||S&32)&&set_style(A,"display",h[5]),(!F||S&1)&&set_data(q,h[0]),(!F||S&32)&&set_style(g,"display",h[5]),re&&re.p&&(!F||S&512)&&update_slot_base(re,Ke,h,h[9],F?get_slot_changes(Ke,h[9],S,null):get_all_dirty_from_scope(h[9]),null),(!F||S&16&&oe!==(oe="card "+h[4]+" svelte-1yedsaz"))&&attr(N,"class",oe),(!F||S&2)&&set_data(H,h[1]),S&8&&safe_not_equal(Se,Se=h[3])?(be.d(1),be=create_key_block$1(h),be.c(),be.m(ee,null)):be.p(h,S),(!F||S&1)&&set_data(Te,h[0]),(!F||S&32)&&set_style(ve,"display",h[5]),(!F||S&4)&&set_data(Ne,h[2]),ie&&ie.p&&(!F||S&512)&&update_slot_base(ie,Xe,h,h[9],F?get_slot_changes(Xe,h[9],S,null):get_all_dirty_from_scope(h[9]),null),(!F||S&16&&De!==(De="card "+h[4]+" svelte-1yedsaz"))&&attr(Ce,"class",De)},i(h){F||(transition_in(re,h),transition_in(ie,h),F=!0)},o(h){transition_out(re,h),transition_out(ie,h),F=!1},d(h){h&&(detach(e),detach(J),detach(I)),ge.d(h),re&&re.d(h),be.d(h),ie&&ie.d(h)}}}function instance$2($$self,$$props,$$invalidate){let question,threshold,{$$slots:slots={},$$scope}=$$props,{questionString=[]}=$$props,counter=0;trigger.subscribe(s=>{s==!0&&(counter==0?(questionString.splice(0,1),trigger.set(!1)):(questionString.splice(counter,1),trigger.set(!1)))}),count.subscribe(s=>{$$invalidate(7,counter=s),max.set(questionString.length-1)});let lifeObj=[];hp.subscribe(s=>{$$invalidate(3,lifeObj=[]);for(let e=0;e<s;e++)lifeObj.push("null")});let comboCount=0;comboCounter.subscribe(s=>{$$invalidate(0,comboCount=s)});let countdown=0;time.subscribe(s=>{$$invalidate(1,countdown=s)});let intervs;game_start.subscribe(s=>{s==!0&&(intervs=setInterval(()=>{time.update(e=>e-1)},1e3))}),win_status.subscribe(s=>{s>0&&clearInterval(intervs)}),hp.subscribe(s=>{s<=0&&clearInterval(intervs)}),io.on("chicken-dinner",()=>{clearInterval(intervs)});let border_warn="",loweff=new Audio(lowTime);return $$self.$$set=s=>{"questionString"in s&&$$invalidate(6,questionString=s.questionString),"$$scope"in s&&$$invalidate(9,$$scope=s.$$scope)},$$self.$$.update=()=>{$$self.$$.dirty&192&&$$invalidate(2,question=questionString[counter]),$$self.$$.dirty&4&&current_question.set(Math.round(eval(question)*100)/100),$$self.$$.dirty&1&&(comboCount>3?$$invalidate(5,threshold="block"):$$invalidate(5,threshold="none")),$$self.$$.dirty&2&&countdown==0&&(bonus_hp.set(0),hp.update(e=>e-1),comboCounter.set(0),count.update(e=>e+1),$$invalidate(5,threshold="none"),time.set(60),new Audio(incorrect).play()),$$self.$$.dirty&258&&(countdown<15?($$invalidate(8,loweff.volume=.3,loweff),loweff.play(),$$invalidate(4,border_warn="active")):($$invalidate(8,loweff.volume=0,loweff),$$invalidate(4,border_warn="")))},$$invalidate(5,threshold="none"),[comboCount,countdown,question,lifeObj,border_warn,threshold,questionString,counter,loweff,$$scope,slots]}class Card extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{questionString:6})}}const span_svelte_svelte_type_style_lang="";function create_fragment$1(s){let e,l=s[0].answer+"",t,a,i;return{c(){e=element("span"),t=text(l),this.h()},l(n){e=claim_element(n,"SPAN",{role:!0,tabindex:!0,style:!0,id:!0,class:!0});var r=children(e);t=claim_text(r,l),r.forEach(detach),this.h()},h(){attr(e,"role","button"),attr(e,"tabindex","0"),set_style(e,"pointer-events",s[1]),attr(e,"id",s[2]),attr(e,"class","svelte-1b7m7o6")},m(n,r){insert_hydration(n,e,r),append_hydration(e,t),a||(i=listen(e,"click",s[3]),a=!0)},p(n,[r]){r&1&&l!==(l=n[0].answer+"")&&set_data(t,l),r&2&&set_style(e,"pointer-events",n[1]),r&4&&attr(e,"id",n[2])},i:noop,o:noop,d(n){n&&detach(e),a=!1,i()}}}function checkWin(s,e){for(let l=0;l<12;l++)if(s[l].every(a=>e.includes(a))==!0)return!0}function instance$1(s,e,l){let{a:t}=e,{i:a}=e,i;const n=get_store_value(win);function r(){let p=parseFloat(this.innerText),w=this.id;const k=get_store_value(current_question);p!=null&&p==k?(console.log("correct"),trigger.set(!0),bonus_hp.update(v=>v+1),get_store_value(bonus_hp)==5&&(bonus_hp.set(0),get_store_value(hp)<5&&hp.update(v=>v+1)),correct_count.update(v=>v+1),answer_matrix.update(v=>[...v,w]),checkWin(n,get_store_value(answer_matrix))==!0&&win_status.set(1),time.set(60),comboCounter.update(v=>v+1),this.style.backgroundColor="blue",l(1,i="none"),new Audio(correct).play()):p!=null&&p!=k&&(console.log("wrong"),bonus_hp.set(0),wrong_count.update(f=>f+1),time.set(60),comboCounter.set(0),hp.update(f=>f-1),new Audio(incorrect).play(),this.style.backgroundColor="brown",setTimeout(()=>{this.style.transition="0.5s",this.style.backgroundColor="transparent",this.style.border="3px solid white"},500)),count.update($=>$+1),get_store_value(count)>get_store_value(max)&&count.set(0)}let o="";return a<5?o="a"+a:a<10?o="b"+a:a<15?o="c"+a:a<20?o="d"+a:a<25&&(o="e"+a),s.$$set=p=>{"a"in p&&l(0,t=p.a),"i"in p&&l(4,a=p.i)},[t,i,o,r,a]}class Span extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{a:0,i:4})}}const _page_svelte_svelte_type_style_lang="";function get_each_context(s,e,l){const t=s.slice();return t[33]=e[l],t[35]=l,t}function get_each_context_1(s,e,l){const t=s.slice();return t[36]=e[l],t}function create_each_block_1(s){let e,l,t,a=s[36]+"",i,n;return{c(){e=element("span"),l=text("User "),t=element("span"),i=text(a),n=text(" has joined the game"),this.h()},l(r){e=claim_element(r,"SPAN",{class:!0});var o=children(e);l=claim_text(o,"User "),t=claim_element(o,"SPAN",{style:!0,class:!0});var p=children(t);i=claim_text(p,a),p.forEach(detach),n=claim_text(o," has joined the game"),o.forEach(detach),this.h()},h(){set_style(t,"font-weight","bolder"),set_style(t,"color","blue"),attr(t,"class","svelte-2y6spp"),attr(e,"class","svelte-2y6spp")},m(r,o){insert_hydration(r,e,o),append_hydration(e,l),append_hydration(e,t),append_hydration(t,i),append_hydration(e,n)},p(r,o){o[0]&64&&a!==(a=r[36]+"")&&set_data(i,a)},d(r){r&&detach(e)}}}function create_key_block(s){let e,l=ensure_array_like(s[6]),t=[];for(let a=0;a<l.length;a+=1)t[a]=create_each_block_1(get_each_context_1(s,l,a));return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=empty()},l(a){for(let i=0;i<t.length;i+=1)t[i].l(a);e=empty()},m(a,i){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(a,i);insert_hydration(a,e,i)},p(a,i){if(i[0]&64){l=ensure_array_like(a[6]);let n;for(n=0;n<l.length;n+=1){const r=get_each_context_1(a,l,n);t[n]?t[n].p(r,i):(t[n]=create_each_block_1(r),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(a){a&&detach(e),destroy_each(t,a)}}}function create_else_block(s){let e,l='<img src="src/routes/assets/images/loader.gif" alt="" style="height: 3rem; width: 3rem"/> <a href="/multiplayer">Leave</a>';return{c(){e=element("div"),e.innerHTML=l,this.h()},l(t){e=claim_element(t,"DIV",{style:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1e30cj6"&&(e.innerHTML=l),this.h()},h(){set_style(e,"display","flex"),set_style(e,"flex-direction","column"),set_style(e,"align-items","center"),set_style(e,"gap","1rem")},m(t,a){insert_hydration(t,e,a)},p:noop,d(t){t&&detach(e)}}}function create_if_block_3(s){let e,l="Start Game",t,a,i="Cancel",n,r;return{c(){e=element("button"),e.textContent=l,t=space(),a=element("button"),a.textContent=i,this.h()},l(o){e=claim_element(o,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1nyzmkh"&&(e.textContent=l),t=claim_space(o),a=claim_element(o,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(a)!=="svelte-1hwd472"&&(a.textContent=i),this.h()},h(){attr(e,"class","svelte-2y6spp"),attr(a,"class","svelte-2y6spp")},m(o,p){insert_hydration(o,e,p),insert_hydration(o,t,p),insert_hydration(o,a,p),n||(r=[listen(e,"click",s[19]),listen(a,"click",s[20])],n=!0)},p:noop,d(o){o&&(detach(e),detach(t),detach(a)),n=!1,run_all(r)}}}function create_each_block(s){let e,l;return e=new Span({props:{a:s[33],i:s[35]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,a){mount_component(e,t,a),l=!0},p(t,a){const i={};a[0]&4&&(i.a=t[33]),e.$set(i)},i(t){l||(transition_in(e.$$.fragment,t),l=!0)},o(t){transition_out(e.$$.fragment,t),l=!1},d(t){destroy_component(e,t)}}}function create_default_slot_1(s){let e,l,t=ensure_array_like(s[2]),a=[];for(let n=0;n<t.length;n+=1)a[n]=create_each_block(get_each_context(s,t,n));const i=n=>transition_out(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=empty()},l(n){for(let r=0;r<a.length;r+=1)a[r].l(n);e=empty()},m(n,r){for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(n,r);insert_hydration(n,e,r),l=!0},p(n,r){if(r[0]&4){t=ensure_array_like(n[2]);let o;for(o=0;o<t.length;o+=1){const p=get_each_context(n,t,o);a[o]?(a[o].p(p,r),transition_in(a[o],1)):(a[o]=create_each_block(p),a[o].c(),transition_in(a[o],1),a[o].m(e.parentNode,e))}for(group_outros(),o=t.length;o<a.length;o+=1)i(o);check_outros()}},i(n){if(!l){for(let r=0;r<t.length;r+=1)transition_in(a[r]);l=!0}},o(n){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)transition_out(a[r]);l=!1},d(n){n&&detach(e),destroy_each(a,n)}}}function create_if_block_2(s){let e,l,t="You have lost!",a,i,n,r,o="Tip: You can regain HP from answering correctly 5 times consecutively",p,w,k,$,f,v,u,b,Y="Return",M,z;return{c(){e=element("div"),l=element("span"),l.textContent=t,a=element("br"),i=element("br"),n=space(),r=element("small"),r.textContent=o,p=space(),w=element("br"),k=element("br"),$=space(),f=element("hr"),v=space(),u=element("div"),b=element("button"),b.textContent=Y,this.h()},l(P){e=claim_element(P,"DIV",{class:!0});var c=children(e);l=claim_element(c,"SPAN",{"data-svelte-h":!0}),get_svelte_dataset(l)!=="svelte-914zwk"&&(l.textContent=t),a=claim_element(c,"BR",{}),i=claim_element(c,"BR",{}),n=claim_space(c),r=claim_element(c,"SMALL",{"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-g1q4j3"&&(r.textContent=o),p=claim_space(c),w=claim_element(c,"BR",{}),k=claim_element(c,"BR",{}),$=claim_space(c),f=claim_element(c,"HR",{class:!0}),v=claim_space(c),u=claim_element(c,"DIV",{class:!0,style:!0});var C=children(u);b=claim_element(C,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(b)!=="svelte-q45fj9"&&(b.textContent=Y),C.forEach(detach),c.forEach(detach),this.h()},h(){attr(f,"class","svelte-2y6spp"),attr(b,"class","svelte-2y6spp"),attr(u,"class","button-group svelte-2y6spp"),set_style(u,"justify-content","center"),attr(e,"class","modal-container svelte-2y6spp")},m(P,c){insert_hydration(P,e,c),append_hydration(e,l),append_hydration(e,a),append_hydration(e,i),append_hydration(e,n),append_hydration(e,r),append_hydration(e,p),append_hydration(e,w),append_hydration(e,k),append_hydration(e,$),append_hydration(e,f),append_hydration(e,v),append_hydration(e,u),append_hydration(u,b),M||(z=listen(b,"click",s[22]),M=!0)},p:noop,d(P){P&&detach(e),M=!1,z()}}}function create_if_block_1(s){let e,l,t="You've ran out of HP!",a,i,n,r,o="Tip: You can regain HP from answering correctly 5 times consecutively",p,w,k,$,f,v,u,b,Y="Return",M,z;return{c(){e=element("div"),l=element("span"),l.textContent=t,a=element("br"),i=element("br"),n=space(),r=element("small"),r.textContent=o,p=space(),w=element("br"),k=element("br"),$=space(),f=element("hr"),v=space(),u=element("div"),b=element("button"),b.textContent=Y,this.h()},l(P){e=claim_element(P,"DIV",{class:!0});var c=children(e);l=claim_element(c,"SPAN",{"data-svelte-h":!0}),get_svelte_dataset(l)!=="svelte-5kf99g"&&(l.textContent=t),a=claim_element(c,"BR",{}),i=claim_element(c,"BR",{}),n=claim_space(c),r=claim_element(c,"SMALL",{"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-g1q4j3"&&(r.textContent=o),p=claim_space(c),w=claim_element(c,"BR",{}),k=claim_element(c,"BR",{}),$=claim_space(c),f=claim_element(c,"HR",{class:!0}),v=claim_space(c),u=claim_element(c,"DIV",{class:!0,style:!0});var C=children(u);b=claim_element(C,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(b)!=="svelte-q45fj9"&&(b.textContent=Y),C.forEach(detach),c.forEach(detach),this.h()},h(){attr(f,"class","svelte-2y6spp"),attr(b,"class","svelte-2y6spp"),attr(u,"class","button-group svelte-2y6spp"),set_style(u,"justify-content","center"),attr(e,"class","modal-container svelte-2y6spp")},m(P,c){insert_hydration(P,e,c),append_hydration(e,l),append_hydration(e,a),append_hydration(e,i),append_hydration(e,n),append_hydration(e,r),append_hydration(e,p),append_hydration(e,w),append_hydration(e,k),append_hydration(e,$),append_hydration(e,f),append_hydration(e,v),append_hydration(e,u),append_hydration(u,b),M||(z=listen(b,"click",s[21]),M=!0)},p:noop,d(P){P&&detach(e),M=!1,z()}}}function create_if_block(s){let e,l,t="ðŸŽ‰You have won!ðŸŽ‰",a,i,n,r,o="Game has been recorded to your match history.",p,w,k,$,f,v,u,b="Game Stats",Y,M,z,P,c,C,E="Time finished",K,D,X,ae,R,T,_e="Highest answer streak",Z,L,A,le,_,q,j="Correct answers",g,x,O,W=get_store_value(correct_count)+"",de,ne,N,oe="Wrong answers",J,I,B,G=get_store_value(wrong_count)+"",Q;return{c(){e=element("div"),l=element("span"),l.textContent=t,a=element("br"),i=element("br"),n=space(),r=element("small"),r.textContent=o,p=space(),w=element("br"),k=element("br"),$=space(),f=element("hr"),v=space(),u=element("span"),u.textContent=b,Y=space(),M=element("br"),z=element("br"),P=space(),c=element("div"),C=element("p"),C.textContent=E,K=space(),D=element("p"),X=text(": "),ae=text(s[9]),R=space(),T=element("p"),T.textContent=_e,Z=space(),L=element("p"),A=text(": "),le=text(s[8]),_=space(),q=element("p"),q.textContent=j,g=space(),x=element("p"),O=text(": "),de=text(W),ne=space(),N=element("p"),N.textContent=oe,J=space(),I=element("p"),B=text(": "),Q=text(G),this.h()},l(U){e=claim_element(U,"DIV",{class:!0});var y=children(e);l=claim_element(y,"SPAN",{"data-svelte-h":!0}),get_svelte_dataset(l)!=="svelte-x0efpq"&&(l.textContent=t),a=claim_element(y,"BR",{}),i=claim_element(y,"BR",{}),n=claim_space(y),r=claim_element(y,"SMALL",{"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-ag8h37"&&(r.textContent=o),p=claim_space(y),w=claim_element(y,"BR",{}),k=claim_element(y,"BR",{}),$=claim_space(y),f=claim_element(y,"HR",{class:!0}),v=claim_space(y),u=claim_element(y,"SPAN",{"data-svelte-h":!0}),get_svelte_dataset(u)!=="svelte-1hpu3un"&&(u.textContent=b),Y=claim_space(y),M=claim_element(y,"BR",{}),z=claim_element(y,"BR",{}),P=claim_space(y),c=claim_element(y,"DIV",{class:!0});var V=children(c);C=claim_element(V,"P",{"data-svelte-h":!0}),get_svelte_dataset(C)!=="svelte-nga66p"&&(C.textContent=E),K=claim_space(V),D=claim_element(V,"P",{});var ce=children(D);X=claim_text(ce,": "),ae=claim_text(ce,s[9]),ce.forEach(detach),R=claim_space(V),T=claim_element(V,"P",{"data-svelte-h":!0}),get_svelte_dataset(T)!=="svelte-17e32cg"&&(T.textContent=_e),Z=claim_space(V),L=claim_element(V,"P",{});var d=children(L);A=claim_text(d,": "),le=claim_text(d,s[8]),d.forEach(detach),_=claim_space(V),q=claim_element(V,"P",{"data-svelte-h":!0}),get_svelte_dataset(q)!=="svelte-i6r21p"&&(q.textContent=j),g=claim_space(V),x=claim_element(V,"P",{});var m=children(x);O=claim_text(m,": "),de=claim_text(m,W),m.forEach(detach),ne=claim_space(V),N=claim_element(V,"P",{"data-svelte-h":!0}),get_svelte_dataset(N)!=="svelte-1nzj1xu"&&(N.textContent=oe),J=claim_space(V),I=claim_element(V,"P",{});var H=children(I);B=claim_text(H,": "),Q=claim_text(H,G),H.forEach(detach),V.forEach(detach),y.forEach(detach),this.h()},h(){attr(f,"class","svelte-2y6spp"),attr(c,"class","game-stat svelte-2y6spp"),attr(e,"class","modal-container svelte-2y6spp")},m(U,y){insert_hydration(U,e,y),append_hydration(e,l),append_hydration(e,a),append_hydration(e,i),append_hydration(e,n),append_hydration(e,r),append_hydration(e,p),append_hydration(e,w),append_hydration(e,k),append_hydration(e,$),append_hydration(e,f),append_hydration(e,v),append_hydration(e,u),append_hydration(e,Y),append_hydration(e,M),append_hydration(e,z),append_hydration(e,P),append_hydration(e,c),append_hydration(c,C),append_hydration(c,K),append_hydration(c,D),append_hydration(D,X),append_hydration(D,ae),append_hydration(c,R),append_hydration(c,T),append_hydration(c,Z),append_hydration(c,L),append_hydration(L,A),append_hydration(L,le),append_hydration(c,_),append_hydration(c,q),append_hydration(c,g),append_hydration(c,x),append_hydration(x,O),append_hydration(x,de),append_hydration(c,ne),append_hydration(c,N),append_hydration(c,J),append_hydration(c,I),append_hydration(I,B),append_hydration(I,Q)},p(U,y){y[0]&512&&set_data(ae,U[9]),y[0]&256&&set_data(le,U[8])},d(U){U&&detach(e)}}}function create_default_slot(s){let e,l,t;function a(r,o){if(o[0]&1152&&(e=null),o[0]&1152&&(l=null),e==null&&(e=r[7]==!1&&r[10]==api.get("username")),e)return create_if_block;if(r[7]==!0)return create_if_block_1;if(l==null&&(l=r[7]==!1&&r[10]!=api.get("username")),l)return create_if_block_2}let i=a(s,[-1,-1]),n=i&&i(s);return{c(){n&&n.c(),t=empty()},l(r){n&&n.l(r),t=empty()},m(r,o){n&&n.m(r,o),insert_hydration(r,t,o)},p(r,o){i===(i=a(r,o))&&n?n.p(r,o):(n&&n.d(1),n=i&&i(r),n&&(n.c(),n.m(t.parentNode,t)))},d(r){r&&detach(t),n&&n.d(r)}}}function create_fragment(s){let e,l,t='<h1 class="svelte-2y6spp">MATH</h1> <h2 class="svelte-2y6spp">BINGO</h2>',a,i,n,r,o,p,w,k,$,f,v,u,b="Waiting for other players to join...",Y,M,z=s[6],P,c,C,E,K,D,X,ae,R,T,_e,Z,L,A,le,_,q,j,g,x='Mode: <span style="font-weight: bold;">Operations</span>',O,W,de="",ne,N,oe,J,I,B,G,Q,U=create_key_block(s);function y(d,m){return d[13]=="true"?create_if_block_3:create_else_block}let ce=y(s)(s);return I=new Card({props:{questionString:s[3],$$slots:{default:[create_default_slot_1]},$$scope:{ctx:s}}}),G=new Modal({props:{centered:!0,opened:s[1],target:"body",title:"Game ended",overflow:"inside",closeOnClickOutside,closeOnEscape,$$slots:{default:[create_default_slot]},$$scope:{ctx:s}}}),G.$on("close",s[15]),{c(){e=element("div"),l=element("div"),l.innerHTML=t,a=space(),i=element("div"),n=element("p"),r=text("Your game code is: "),o=element("span"),p=text(s[0]),w=space(),k=element("p"),$=text("Players joined: "),f=text(s[11]),v=space(),u=element("p"),u.textContent=b,Y=space(),M=element("div"),U.c(),P=space(),c=element("div"),ce.c(),C=space(),E=element("div"),K=element("div"),D=element("div"),X=element("p"),ae=text("Game code: "),R=element("span"),T=text(s[0]),_e=space(),Z=element("p"),L=text("Players left: "),A=element("span"),le=text(s[11]),_=text("/"),q=text(s[12]),j=space(),g=element("p"),g.innerHTML=x,O=space(),W=element("div"),W.innerHTML=de,ne=space(),N=element("hr"),oe=space(),J=element("div"),create_component(I.$$.fragment),B=space(),create_component(G.$$.fragment),this.h()},l(d){e=claim_element(d,"DIV",{class:!0,style:!0});var m=children(e);l=claim_element(m,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(l)!=="svelte-1h1za07"&&(l.innerHTML=t),a=claim_space(m),i=claim_element(m,"DIV",{class:!0});var H=children(i);n=claim_element(H,"P",{class:!0});var pe=children(n);r=claim_text(pe,"Your game code is: "),o=claim_element(pe,"SPAN",{});var xe=children(o);p=claim_text(xe,s[0]),xe.forEach(detach),pe.forEach(detach),w=claim_space(H),k=claim_element(H,"P",{class:!0});var me=children(k);$=claim_text(me,"Players joined: "),f=claim_text(me,s[11]),me.forEach(detach),v=claim_space(H),u=claim_element(H,"P",{style:!0,class:!0,"data-svelte-h":!0}),get_svelte_dataset(u)!=="svelte-pv0365"&&(u.textContent=b),Y=claim_space(H),M=claim_element(H,"DIV",{class:!0});var Ie=children(M);U.l(Ie),Ie.forEach(detach),P=claim_space(H),c=claim_element(H,"DIV",{class:!0,style:!0});var $e=children(c);ce.l($e),$e.forEach(detach),H.forEach(detach),m.forEach(detach),C=claim_space(d),E=claim_element(d,"DIV",{id:!0,style:!0,class:!0});var he=children(E);K=claim_element(he,"DIV",{class:!0});var ee=children(K);D=claim_element(ee,"DIV",{});var ue=children(D);X=claim_element(ue,"P",{});var Se=children(X);ae=claim_text(Se,"Game code: "),R=claim_element(Se,"SPAN",{style:!0});var Pe=children(R);T=claim_text(Pe,s[0]),Pe.forEach(detach),Se.forEach(detach),_e=claim_space(ue),Z=claim_element(ue,"P",{});var te=children(Z);L=claim_text(te,"Players left: "),A=claim_element(te,"SPAN",{style:!0});var we=children(A);le=claim_text(we,s[11]),_=claim_text(we,"/"),q=claim_text(we,s[12]),we.forEach(detach),te.forEach(detach),j=claim_space(ue),g=claim_element(ue,"P",{"data-svelte-h":!0}),get_svelte_dataset(g)!=="svelte-9hixqi"&&(g.innerHTML=x),ue.forEach(detach),O=claim_space(ee),W=claim_element(ee,"DIV",{"data-svelte-h":!0}),get_svelte_dataset(W)!=="svelte-1x7m6zr"&&(W.innerHTML=de),ee.forEach(detach),he.forEach(detach),ne=claim_space(d),N=claim_element(d,"HR",{style:!0,class:!0}),oe=claim_space(d),J=claim_element(d,"DIV",{style:!0});var se=children(J);claim_component(I.$$.fragment,se),B=claim_space(se),claim_component(G.$$.fragment,se),se.forEach(detach),this.h()},h(){attr(l,"class","title"),attr(n,"class","svelte-2y6spp"),attr(k,"class","svelte-2y6spp"),set_style(u,"font-weight","bold"),attr(u,"class","svelte-2y6spp"),attr(M,"class","room-logs svelte-2y6spp"),attr(c,"class","button-group-modal svelte-2y6spp"),set_style(c,"display","flex"),set_style(c,"gap","2rem"),attr(i,"class","wait-modal svelte-2y6spp"),attr(e,"class","wait-container svelte-2y6spp"),set_style(e,"display",s[5]),set_style(R,"font-weight","bold"),set_style(A,"font-weight","bold"),attr(K,"class","game-header svelte-2y6spp"),attr(E,"id","header"),set_style(E,"display",s[4]),attr(E,"class","svelte-2y6spp"),set_style(N,"display",s[4]),attr(N,"class","svelte-2y6spp"),set_style(J,"display",s[4])},m(d,m){insert_hydration(d,e,m),append_hydration(e,l),append_hydration(e,a),append_hydration(e,i),append_hydration(i,n),append_hydration(n,r),append_hydration(n,o),append_hydration(o,p),append_hydration(i,w),append_hydration(i,k),append_hydration(k,$),append_hydration(k,f),append_hydration(i,v),append_hydration(i,u),append_hydration(i,Y),append_hydration(i,M),U.m(M,null),append_hydration(i,P),append_hydration(i,c),ce.m(c,null),insert_hydration(d,C,m),insert_hydration(d,E,m),append_hydration(E,K),append_hydration(K,D),append_hydration(D,X),append_hydration(X,ae),append_hydration(X,R),append_hydration(R,T),append_hydration(D,_e),append_hydration(D,Z),append_hydration(Z,L),append_hydration(Z,A),append_hydration(A,le),append_hydration(A,_),append_hydration(A,q),append_hydration(D,j),append_hydration(D,g),append_hydration(K,O),append_hydration(K,W),insert_hydration(d,ne,m),insert_hydration(d,N,m),insert_hydration(d,oe,m),insert_hydration(d,J,m),mount_component(I,J,null),append_hydration(J,B),mount_component(G,J,null),Q=!0},p(d,m){(!Q||m[0]&1)&&set_data(p,d[0]),(!Q||m[0]&2048)&&set_data(f,d[11]),m[0]&64&&safe_not_equal(z,z=d[6])?(U.d(1),U=create_key_block(d),U.c(),U.m(M,null)):U.p(d,m),ce.p(d,m),(!Q||m[0]&32)&&set_style(e,"display",d[5]),(!Q||m[0]&1)&&set_data(T,d[0]),(!Q||m[0]&2048)&&set_data(le,d[11]),(!Q||m[0]&4096)&&set_data(q,d[12]),(!Q||m[0]&16)&&set_style(E,"display",d[4]),(!Q||m[0]&16)&&set_style(N,"display",d[4]);const H={};m[0]&8&&(H.questionString=d[3]),m[0]&4|m[1]&256&&(H.$$scope={dirty:m,ctx:d}),I.$set(H);const pe={};m[0]&2&&(pe.opened=d[1]),m[0]&1920|m[1]&256&&(pe.$$scope={dirty:m,ctx:d}),G.$set(pe),(!Q||m[0]&16)&&set_style(J,"display",d[4])},i(d){Q||(transition_in(I.$$.fragment,d),transition_in(G.$$.fragment,d),Q=!0)},o(d){transition_out(I.$$.fragment,d),transition_out(G.$$.fragment,d),Q=!1},d(d){d&&(detach(e),detach(C),detach(E),detach(ne),detach(N),detach(oe),detach(J)),U.d(d),ce.d(),destroy_component(I),destroy_component(G)}}}let closeOnClickOutside=!1,closeOnEscape=!1;function UrlExists(s){var e=new XMLHttpRequest;return e.open("GET",s,!1),e.send(),e.status!=404}function getList(s){return s.map(t=>({value:t,sort:Math.random()})).sort((t,a)=>t.sort-a.sort).map(({value:t})=>t)}function questionBuilder(s,e,l){let t={addition:"+",subtraction:"-",multiplication:"*",division:"/"};return""+s+t[e]+l}function instance(s,e,l){let t,a,i,n,r,o,p=api.get("host"),w="",k=!1,$=0,f;localStorage.token=0;let v="",u={},b=[],Y=[],M=new Audio(bg_msc);if(M.volume=.1,api.get("multiplayer_session")==null){let _=Math.floor(Math.random()*999999+1);api.set("multiplayer_session",_.toString()),w=_.toString(),v="../php/game_configs/"+_.toString()+".json";let q=""+_+".json",j=0;for(u={path:q},j=0;j<25;j++){let g=Math.floor(1+Math.random()*25),x=Math.floor(1+Math.random()*25);switch(Math.floor(Math.random()*4)){case 0:let W=g+x;u[j]={firstVal:g,secondVal:x,operator:"addition",answer:Math.round(W*100)/100};break;case 1:let de=g-x;u[j]={firstVal:g,secondVal:x,operator:"subtraction",answer:Math.round(de*100)/100};break;case 2:let ne=g*x;u[j]={firstVal:g,secondVal:x,operator:"multiplication",answer:Math.round(ne*100)/100};break;case 3:let N=g/x;u[j]={firstVal:g,secondVal:x,operator:"division",answer:Math.round(N*100)/100};break}}onMount(async function(){await(await fetch("https://localhost/sv/bingo/src/routes/php/game_config_save.php",{method:"POST",body:JSON.stringify(u)})).text()=="1"?(console.log("loaded successfully"),D()):console.log("config not loaded to the server")})}else w=api.get("multiplayer_session"),v="../php/game_configs/"+api.get("multiplayer_session")+".json",D();let z="",P="none";multiplayer.subscribe(_=>{_==!0?(l(5,P=""),l(4,z="none")):(l(5,P="none"),l(4,z=""))}),game_start.subscribe(_=>{_==!0&&(f=setInterval(()=>{l(16,$+=1)},1e3))});function c(){l(4,z=""),l(5,P="none"),game_start.set(!0),console.log(get_store_value(game_start))}function C(){io.emit("game-start",api.get("multiplayer_session")),game_start.set(!0),c()}let E=[];onMount(()=>{multiplayer.set(!0),api.get("host")=="true"&&io.emit("multiplayer-creation",{room:w,player:api.get("username")}),io.on("new-player",_=>{api.get("multiplayer_session")==_.room&&(l(11,a=_.players.length),l(12,i=_.origin_player.length),_.lost.length,l(6,E=_.players))}),io.emit("reconnect",{game:api.get("multiplayer_session"),player:api.get("username")}),io.on("active",_=>{_.room==api.get("multiplayer_session")?(c(),console.log(_),l(11,a=_.players.length),l(12,i=_.origin_player.length),_.lost.length):_==!1&&(api.remove("multiplayer_session"),window.location.href="/multiplayer")}),io.emit("gameInfo",api.get("multiplayer_session")),io.on("gameInfoRes",_=>{api.get("multiplayer_session")==_.room&&(l(12,i=_.origin_player.length),l(11,a=_.players.length),_.lost.length,l(6,E=_.players),api.set("host_name",_.host))}),io.on("begin",_=>{_.room==api.get("multiplayer_session")&&_.started==!0&&c()}),io.on("chicken-dinner",_=>{_.room==api.get("multiplayer_session")&&_.ended==!0&&(l(10,t=_.winner),l(1,k=!0),X(0),clearInterval(f),console.log(t))}),io.on("player-dc",_=>{console.log(_),l(6,E=_.new.players),l(6,E),l(11,a=_.new.players.length),_.new.lost.length}),io.on("player-reduced",_=>{l(11,a=_.new.players.length),_.new.lost.length})});function K(){return __vitePreload(()=>import(v),[],import.meta.url)}async function D(){let _=[],q=[];UrlExists("src/routes/php/game_configs/"+api.get("multiplayer_session")+".json")==!0?K().then(x=>{for(let O in x.default)x.default.hasOwnProperty(O)&&typeof x.default[O]=="object"&&_.push(x.default[O])}).then(()=>{l(2,b=getList(_)),getList(b).forEach(O=>{q.push(questionBuilder(O.firstVal,O.operator,O.secondVal))}),l(3,Y=q)}):(api.remove("multiplayer_session"),window.location.href="/multiplayer")}async function X(_){const j=new Date().toLocaleDateString();let g={game:api.get("multiplayer_session"),username:api.get("username"),time:o,streak:T,correct:get_store_value(correct_count),wrong:get_store_value(wrong_count),status:_,mode:1,host:api.get("host_name"),winner:t,date:j},O=await(await fetch("https://localhost/sv/bingo/src/routes/php/match_save.php",{method:"POST",body:JSON.stringify(g)})).text();console.log(O)}async function ae(){let _={game:api.get("multiplayer_session"),host:api.get("host_name"),winner:t},j=await(await fetch("https://localhost/sv/bingo/src/routes/php/winner_save.php",{method:"POST",body:JSON.stringify(_)})).text();console.log(j)}hp.subscribe(_=>{_==0&&(l(7,R=!0),l(1,k=!0),clearInterval(f),X(0),io.emit("player-kick",{game:api.get("multiplayer_session"),player:api.get("username")}),api.remove("multiplayer_session"))}),win_status.subscribe(_=>{_>0&&(l(1,k=!0),clearInterval(f),X(1),io.emit("winner",{game:api.get("multiplayer_session"),winner:api.get("username")}),l(10,t=api.get("username")),ae())});let R=!1,T=0;comboCounter.subscribe(_=>{let q=_;q>T&&l(8,T=q)}),addEventListener("beforeunload",()=>{io.emit("disconnected",{game:api.get("multiplayer_session"),player:api.get("username")})});function _e(){api.remove("multiplayer_session"),window.location.href="/multiplayer"}const Z=()=>{C()},L=()=>{window.location.href="/multiplayer_room"},A=()=>{window.location.href="/multiplayer"},le=()=>{window.location.href="/multiplayer"};return s.$$.update=()=>{s.$$.dirty[0]&65536&&l(18,n=Math.floor($/60)),s.$$.dirty[0]&65536&&l(17,r=$%60),s.$$.dirty[0]&393216&&l(9,o=""+n+" minute(s) & "+r+" second(s)")},l(10,t=""),l(11,a=0),l(12,i=0),[w,k,b,Y,z,P,E,R,T,o,t,a,i,p,C,_e,$,r,n,Z,L,A,le]}class Page extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{},null,[-1,-1])}}export{Page as component,_page as universal};
