import{_ as __vitePreload}from"../chunks/preload-helper.a4192956.js";import{s as safe_not_equal,r as create_slot,f as element,l as text,a as space,g as claim_element,h as children,m as claim_text,d as detach,c as claim_space,A as get_svelte_dataset,j as attr,T as src_url_equal,k as set_style,i as insert_hydration,x as append_hydration,n as set_data,u as update_slot_base,v as get_all_dirty_from_scope,w as get_slot_changes,e as empty,S as destroy_each,y as noop,B as listen,U as get_store_value,o as onMount,K as run_all}from"../chunks/scheduler.ce5fb7fd.js";import{S as SvelteComponent,i as init,a as transition_in,t as transition_out,b as create_component,d as claim_component,m as mount_component,e as destroy_component,g as group_outros,c as check_outros}from"../chunks/index.cdd0258f.js";import{e as ensure_array_like}from"../chunks/each.e59479a4.js";import{w as writable}from"../chunks/index.4afc524e.js";import{i as incorrect,c as correct,b as bg_msc}from"../chunks/correct.980f2511.js";import{a as api}from"../chunks/js.cookie.edb2da2a.js";/* empty css                      */import{M as Modal}from"../chunks/Modal.dbb8c5fa.js";const count=writable(0),current_question=writable(),hp=writable(5),comboCounter=writable(0),time=writable(60),win=writable([["a0","a1","a2","a3","a4"],["b5","b6","b7","b8","b9"],["c10","c11","c12","c13","c14"],["d15","d16","d17","d18","d19"],["e20","e21","e22","e23","e24"],["a0","b5","c10","d15","e20"],["a1","b6","c11","d16","e21"],["a2","b7","c12","d17","e22"],["a3","b8","c13","d18","e23"],["a4","b9","c14","d19","e24"],["a0","b6","c12","d18","e24"],["a4","b8","c12","d16","e20"]]),answer_matrix=writable([]),win_status=writable(0),correct_count=writable(0),wrong_count=writable(0),bonus_hp=writable(0),max=writable(24),trigger=writable(!1),heart=""+new URL("../assets/heart.689744ce.png",import.meta.url).href,card_svelte_svelte_type_style_lang="";function get_each_context$1(n,e,s){const a=n.slice();return a[12]=e[s].count,a[14]=s,a}function get_each_context_1(n,e,s){const a=n.slice();return a[12]=e[s].count,a[14]=s,a}function create_each_block_1(n){let e,s=`<img class="heart svelte-1kkwk32" src="${heart}" alt=""/>`;return{c(){e=element("span"),e.innerHTML=s,this.h()},l(a){e=claim_element(a,"SPAN",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-e5cmcq"&&(e.innerHTML=s),this.h()},h(){attr(e,"class","svelte-1kkwk32")},m(a,t){insert_hydration(a,e,t)},p:noop,d(a){a&&detach(e)}}}function create_key_block_1(n){let e,s=ensure_array_like(n[4]),a=[];for(let t=0;t<s.length;t+=1)a[t]=create_each_block_1(get_each_context_1(n,s,t));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=empty()},l(t){for(let r=0;r<a.length;r+=1)a[r].l(t);e=empty()},m(t,r){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(t,r);insert_hydration(t,e,r)},p(t,r){if(r&16){s=ensure_array_like(t[4]);let l;for(l=0;l<s.length;l+=1){const i=get_each_context_1(t,s,l);a[l]?a[l].p(i,r):(a[l]=create_each_block_1(),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=s.length}},d(t){t&&detach(e),destroy_each(a,t)}}}function create_each_block$1(n){let e,s='<img class="heart svelte-1kkwk32" src="/src/routes/assets/images/heart.png" alt=""/>';return{c(){e=element("span"),e.innerHTML=s,this.h()},l(a){e=claim_element(a,"SPAN",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1vm5k3j"&&(e.innerHTML=s),this.h()},h(){attr(e,"class","svelte-1kkwk32")},m(a,t){insert_hydration(a,e,t)},p:noop,d(a){a&&detach(e)}}}function create_key_block(n){let e,s=ensure_array_like(n[4]),a=[];for(let t=0;t<s.length;t+=1)a[t]=create_each_block$1(get_each_context$1(n,s,t));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=empty()},l(t){for(let r=0;r<a.length;r+=1)a[r].l(t);e=empty()},m(t,r){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(t,r);insert_hydration(t,e,r)},p(t,r){if(r&16){s=ensure_array_like(t[4]);let l;for(l=0;l<s.length;l+=1){const i=get_each_context$1(t,s,l);a[l]?a[l].p(i,r):(a[l]=create_each_block$1(),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=s.length}},d(t){t&&detach(e),destroy_each(a,t)}}}function create_fragment$2(n){let e,s,a,t,r,l,i,o,p,f,x="Timer:",d,_,m,b,E,T,V,q,Q,g,h,w,v="Lives:",y,C=n[4],S,D,A,oe="Combo counter:",X,I,O,ce,_e,Y,ve,R,Z,de,W,ge='<p class="svelte-1kkwk32">Game mode:</p> <br/> <span class="svelte-1kkwk32">Singe Player Mode</span>',pe,N,me,le,L,M,H,ye="Single Player Mode",G,u,$,ke,ue,U,se,Oe,Re,he,et,Be,re,J,je,tt=n[4],He,z,Ge,ee,Se,Ue,be,te,at,Qe,Pe,Ye,ie,ze,xe=n[0][n[1]]+"",Ee,We,Je,fe,Me,P,ae=create_key_block_1(n);const Fe=n[10].default,B=create_slot(Fe,n,n[9],null);let ne=create_key_block(n);const Ke=n[10].default,j=create_slot(Ke,n,n[9],null);return{c(){e=element("div"),s=element("div"),a=element("div"),t=element("span"),r=text("Question:   "),l=text(n[7]),i=text(" = ?"),o=space(),p=element("div"),f=element("p"),f.textContent=x,d=space(),_=element("span"),m=element("img"),E=space(),T=text(n[3]),V=text("s "),q=element("img"),g=space(),h=element("div"),w=element("p"),w.textContent=v,y=space(),ae.c(),S=space(),D=element("div"),A=element("p"),A.textContent=oe,X=space(),I=element("span"),O=element("img"),_e=text(`\r
				   `),Y=text(n[2]),ve=text(`   \r
				`),R=element("img"),de=space(),W=element("div"),W.innerHTML=ge,pe=space(),N=element("div"),B&&B.c(),le=space(),L=element("div"),M=element("div"),H=element("p"),H.textContent=ye,G=space(),u=element("span"),$=element("img"),ue=space(),U=element("span"),se=text(n[3]),Oe=text("s"),Re=space(),he=element("img"),Be=space(),re=element("div"),J=element("p"),je=text(`Lives:\r
				`),ne.c(),He=space(),z=element("p"),Ge=text("Combo: "),ee=element("span"),Se=text(n[2]),Ue=text(`\r
				 `),be=element("span"),te=element("img"),Qe=space(),Pe=element("hr"),Ye=space(),ie=element("span"),ze=text("Question:   "),Ee=text(xe),We=text(" = ?"),Je=space(),fe=element("div"),j&&j.c(),this.h()},l(c){e=claim_element(c,"DIV",{class:!0});var k=children(e);s=claim_element(k,"DIV",{class:!0});var F=children(s);a=claim_element(F,"DIV",{class:!0});var nt=children(a);t=claim_element(nt,"SPAN",{class:!0});var Ie=children(t);r=claim_text(Ie,"Question:   "),l=claim_text(Ie,n[7]),i=claim_text(Ie," = ?"),Ie.forEach(detach),nt.forEach(detach),o=claim_space(F),p=claim_element(F,"DIV",{class:!0});var Ve=children(p);f=claim_element(Ve,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(f)!=="svelte-1v6xktn"&&(f.textContent=x),d=claim_space(Ve),_=claim_element(Ve,"SPAN",{class:!0});var we=children(_);m=claim_element(we,"IMG",{src:!0,alt:!0,class:!0}),E=claim_space(we),T=claim_text(we,n[3]),V=claim_text(we,"s "),q=claim_element(we,"IMG",{src:!0,alt:!0,class:!0}),we.forEach(detach),Ve.forEach(detach),g=claim_space(F),h=claim_element(F,"DIV",{class:!0});var Ae=children(h);w=claim_element(Ae,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(w)!=="svelte-1b7hjqh"&&(w.textContent=v),y=claim_space(Ae),ae.l(Ae),Ae.forEach(detach),S=claim_space(F),D=claim_element(F,"DIV",{class:!0});var Le=children(D);A=claim_element(Le,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(A)!=="svelte-1j6bdvw"&&(A.textContent=oe),X=claim_space(Le),I=claim_element(Le,"SPAN",{class:!0});var $e=children(I);O=claim_element($e,"IMG",{src:!0,alt:!0,style:!0,class:!0}),_e=claim_text($e,`\r
				   `),Y=claim_text($e,n[2]),ve=claim_text($e,`   \r
				`),R=claim_element($e,"IMG",{src:!0,alt:!0,style:!0,class:!0}),$e.forEach(detach),Le.forEach(detach),de=claim_space(F),W=claim_element(F,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(W)!=="svelte-1q9svkx"&&(W.innerHTML=ge),F.forEach(detach),pe=claim_space(k),N=claim_element(k,"DIV",{class:!0});var lt=children(N);B&&B.l(lt),lt.forEach(detach),k.forEach(detach),le=claim_space(c),L=claim_element(c,"DIV",{class:!0});var Te=children(L);M=claim_element(Te,"DIV",{class:!0});var K=children(M);H=claim_element(K,"P",{style:!0,class:!0,"data-svelte-h":!0}),get_svelte_dataset(H)!=="svelte-1kdbgup"&&(H.textContent=ye),G=claim_space(K),u=claim_element(K,"SPAN",{style:!0,class:!0});var Ce=children(u);$=claim_element(Ce,"IMG",{src:!0,alt:!0,class:!0}),ue=claim_space(Ce),U=claim_element(Ce,"SPAN",{id:!0,class:!0});var Xe=children(U);se=claim_text(Xe,n[3]),Oe=claim_text(Xe,"s"),Xe.forEach(detach),Re=claim_space(Ce),he=claim_element(Ce,"IMG",{src:!0,alt:!0,class:!0}),Ce.forEach(detach),Be=claim_space(K),re=claim_element(K,"DIV",{class:!0});var De=children(re);J=claim_element(De,"P",{style:!0,class:!0});var Ze=children(J);je=claim_text(Ze,`Lives:\r
				`),ne.l(Ze),Ze.forEach(detach),He=claim_space(De),z=claim_element(De,"P",{style:!0,class:!0});var qe=children(z);Ge=claim_text(qe,"Combo: "),ee=claim_element(qe,"SPAN",{style:!0,class:!0});var st=children(ee);Se=claim_text(st,n[2]),st.forEach(detach),Ue=claim_text(qe,`\r
				 `),be=claim_element(qe,"SPAN",{class:!0});var rt=children(be);te=claim_element(rt,"IMG",{src:!0,alt:!0,style:!0,class:!0}),rt.forEach(detach),qe.forEach(detach),De.forEach(detach),Qe=claim_space(K),Pe=claim_element(K,"HR",{class:!0}),Ye=claim_space(K),ie=claim_element(K,"SPAN",{class:!0});var Ne=children(ie);ze=claim_text(Ne,"Question:   "),Ee=claim_text(Ne,xe),We=claim_text(Ne," = ?"),Ne.forEach(detach),K.forEach(detach),Je=claim_space(Te),fe=claim_element(Te,"DIV",{class:!0});var it=children(fe);j&&j.l(it),it.forEach(detach),Te.forEach(detach),this.h()},h(){attr(t,"class","svelte-1kkwk32"),attr(a,"class","question-box svelte-1kkwk32"),attr(f,"class","svelte-1kkwk32"),src_url_equal(m.src,b="8bit-hrglass.gif")||attr(m,"src",b),attr(m,"alt",""),attr(m,"class","svelte-1kkwk32"),src_url_equal(q.src,Q="/src/routes/assets/images/8bit-hrglass.gif")||attr(q,"src",Q),attr(q,"alt",""),attr(q,"class","svelte-1kkwk32"),attr(_,"class","svelte-1kkwk32"),attr(p,"class","svelte-1kkwk32"),attr(w,"class","svelte-1kkwk32"),attr(h,"class","svelte-1kkwk32"),attr(A,"class","svelte-1kkwk32"),src_url_equal(O.src,ce="/src/routes/assets/images/combo.gif")||attr(O,"src",ce),attr(O,"alt",""),set_style(O,"display",n[6]),attr(O,"class","svelte-1kkwk32"),src_url_equal(R.src,Z="/src/routes/assets/images/combo.gif")||attr(R,"src",Z),attr(R,"alt",""),set_style(R,"display",n[6]),attr(R,"class","svelte-1kkwk32"),attr(I,"class","svelte-1kkwk32"),attr(D,"class","svelte-1kkwk32"),attr(W,"class","svelte-1kkwk32"),attr(s,"class","question svelte-1kkwk32"),attr(N,"class",me="card "+n[5]+" svelte-1kkwk32"),attr(e,"class","card-container svelte-1kkwk32"),set_style(H,"margin","auto"),set_style(H,"font-weight","bold"),attr(H,"class","svelte-1kkwk32"),src_url_equal($.src,ke="/src/routes/assets/images/8bit-hrglass.gif")||attr($,"src",ke),attr($,"alt",""),attr($,"class","svelte-1kkwk32"),attr(U,"id","timer"),attr(U,"class","svelte-1kkwk32"),src_url_equal(he.src,et="/src/routes/assets/images/8bit-hrglass.gif")||attr(he,"src",et),attr(he,"alt",""),attr(he,"class","svelte-1kkwk32"),set_style(u,"margin","auto"),set_style(u,"display","flex"),attr(u,"class","svelte-1kkwk32"),set_style(J,"display","flex"),set_style(J,"align-items","center"),attr(J,"class","svelte-1kkwk32"),set_style(ee,"font-size","2rem"),set_style(ee,"font-weight","bold"),set_style(ee,"font-family","Arial"),attr(ee,"class","svelte-1kkwk32"),src_url_equal(te.src,at="/src/routes/assets/images/combo.gif")||attr(te,"src",at),attr(te,"alt",""),set_style(te,"display",n[6]),attr(te,"class","svelte-1kkwk32"),attr(be,"class","svelte-1kkwk32"),set_style(z,"display","flex"),set_style(z,"align-items","center"),attr(z,"class","svelte-1kkwk32"),attr(re,"class","player-stat svelte-1kkwk32"),attr(Pe,"class","svelte-1kkwk32"),attr(ie,"class","svelte-1kkwk32"),attr(M,"class","question-box svelte-1kkwk32"),attr(fe,"class",Me="card "+n[5]+" svelte-1kkwk32"),attr(L,"class","mobile-view svelte-1kkwk32")},m(c,k){insert_hydration(c,e,k),append_hydration(e,s),append_hydration(s,a),append_hydration(a,t),append_hydration(t,r),append_hydration(t,l),append_hydration(t,i),append_hydration(s,o),append_hydration(s,p),append_hydration(p,f),append_hydration(p,d),append_hydration(p,_),append_hydration(_,m),append_hydration(_,E),append_hydration(_,T),append_hydration(_,V),append_hydration(_,q),append_hydration(s,g),append_hydration(s,h),append_hydration(h,w),append_hydration(h,y),ae.m(h,null),append_hydration(s,S),append_hydration(s,D),append_hydration(D,A),append_hydration(D,X),append_hydration(D,I),append_hydration(I,O),append_hydration(I,_e),append_hydration(I,Y),append_hydration(I,ve),append_hydration(I,R),append_hydration(s,de),append_hydration(s,W),append_hydration(e,pe),append_hydration(e,N),B&&B.m(N,null),insert_hydration(c,le,k),insert_hydration(c,L,k),append_hydration(L,M),append_hydration(M,H),append_hydration(M,G),append_hydration(M,u),append_hydration(u,$),append_hydration(u,ue),append_hydration(u,U),append_hydration(U,se),append_hydration(U,Oe),append_hydration(u,Re),append_hydration(u,he),append_hydration(M,Be),append_hydration(M,re),append_hydration(re,J),append_hydration(J,je),ne.m(J,null),append_hydration(re,He),append_hydration(re,z),append_hydration(z,Ge),append_hydration(z,ee),append_hydration(ee,Se),append_hydration(z,Ue),append_hydration(z,be),append_hydration(be,te),append_hydration(M,Qe),append_hydration(M,Pe),append_hydration(M,Ye),append_hydration(M,ie),append_hydration(ie,ze),append_hydration(ie,Ee),append_hydration(ie,We),append_hydration(L,Je),append_hydration(L,fe),j&&j.m(fe,null),P=!0},p(c,[k]){(!P||k&128)&&set_data(l,c[7]),(!P||k&8)&&set_data(T,c[3]),k&16&&safe_not_equal(C,C=c[4])?(ae.d(1),ae=create_key_block_1(c),ae.c(),ae.m(h,null)):ae.p(c,k),(!P||k&64)&&set_style(O,"display",c[6]),(!P||k&4)&&set_data(Y,c[2]),(!P||k&64)&&set_style(R,"display",c[6]),B&&B.p&&(!P||k&512)&&update_slot_base(B,Fe,c,c[9],P?get_slot_changes(Fe,c[9],k,null):get_all_dirty_from_scope(c[9]),null),(!P||k&32&&me!==(me="card "+c[5]+" svelte-1kkwk32"))&&attr(N,"class",me),(!P||k&8)&&set_data(se,c[3]),k&16&&safe_not_equal(tt,tt=c[4])?(ne.d(1),ne=create_key_block(c),ne.c(),ne.m(J,null)):ne.p(c,k),(!P||k&4)&&set_data(Se,c[2]),(!P||k&64)&&set_style(te,"display",c[6]),(!P||k&3)&&xe!==(xe=c[0][c[1]]+"")&&set_data(Ee,xe),j&&j.p&&(!P||k&512)&&update_slot_base(j,Ke,c,c[9],P?get_slot_changes(Ke,c[9],k,null):get_all_dirty_from_scope(c[9]),null),(!P||k&32&&Me!==(Me="card "+c[5]+" svelte-1kkwk32"))&&attr(fe,"class",Me)},i(c){P||(transition_in(B,c),transition_in(j,c),P=!0)},o(c){transition_out(B,c),transition_out(j,c),P=!1},d(c){c&&(detach(e),detach(le),detach(L)),ae.d(c),B&&B.d(c),ne.d(c),j&&j.d(c)}}}function instance$2($$self,$$props,$$invalidate){let question,evaluator,threshold,{$$slots:slots={},$$scope}=$$props,{questionString=[]}=$$props,counter=0;trigger.subscribe(n=>{n==!0&&(counter==0?(questionString.splice(0,1),trigger.set(!1)):(questionString.splice(counter,1),trigger.set(!1)))}),count.subscribe(n=>{$$invalidate(1,counter=n),max.set(questionString.length-1)});let lifeObj=[];hp.subscribe(n=>{$$invalidate(4,lifeObj=[]);for(let e=0;e<n;e++)lifeObj.push("null")});let comboCount=0;comboCounter.subscribe(n=>{$$invalidate(2,comboCount=n)});let countdown=0;time.subscribe(n=>{$$invalidate(3,countdown=n)});let interv=setInterval(()=>{time.update(n=>n-1)},1e3);win_status.subscribe(n=>{n>0&&clearInterval(interv)}),hp.subscribe(n=>{n<=0&&clearInterval(interv)});let border_warn="";return $$self.$$set=n=>{"questionString"in n&&$$invalidate(0,questionString=n.questionString),"$$scope"in n&&$$invalidate(9,$$scope=n.$$scope)},$$self.$$.update=()=>{$$self.$$.dirty&3&&$$invalidate(7,question=questionString[counter]),$$self.$$.dirty&3&&$$invalidate(8,evaluator=Math.round(eval(questionString[counter])*100)/100),$$self.$$.dirty&256&&current_question.set(evaluator),$$self.$$.dirty&4&&(comboCount>3?$$invalidate(6,threshold="block"):$$invalidate(6,threshold="none")),$$self.$$.dirty&8&&countdown==0&&(bonus_hp.set(0),hp.update(e=>e-1),comboCounter.set(0),count.update(e=>e+1),$$invalidate(6,threshold="none"),time.set(60),new Audio(incorrect).play()),$$self.$$.dirty&8&&(countdown<15?$$invalidate(5,border_warn="active"):$$invalidate(5,border_warn=""))},$$invalidate(6,threshold="none"),[questionString,counter,comboCount,countdown,lifeObj,border_warn,threshold,question,evaluator,$$scope,slots]}class Card extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{questionString:0})}}const span_svelte_svelte_type_style_lang="";function create_fragment$1(n){let e,s=n[0].answer+"",a,t,r;return{c(){e=element("span"),a=text(s),this.h()},l(l){e=claim_element(l,"SPAN",{role:!0,tabindex:!0,style:!0,id:!0,class:!0});var i=children(e);a=claim_text(i,s),i.forEach(detach),this.h()},h(){attr(e,"role","button"),attr(e,"tabindex","0"),set_style(e,"pointer-events",n[1]),attr(e,"id",n[2]),attr(e,"class","svelte-1b7m7o6")},m(l,i){insert_hydration(l,e,i),append_hydration(e,a),t||(r=listen(e,"click",n[3]),t=!0)},p(l,[i]){i&1&&s!==(s=l[0].answer+"")&&set_data(a,s),i&2&&set_style(e,"pointer-events",l[1]),i&4&&attr(e,"id",l[2])},i:noop,o:noop,d(l){l&&detach(e),t=!1,r()}}}function checkWin(n,e){for(let s=0;s<12;s++)if(n[s].every(t=>e.includes(t))==!0)return!0}function instance$1(n,e,s){let{a}=e,{i:t}=e,r;const l=get_store_value(win);function i(){let p=parseFloat(this.innerText),f=this.id;const x=get_store_value(current_question);p!=null&&p==x?(console.log("correct"),trigger.set(!0),bonus_hp.update(m=>m+1),get_store_value(bonus_hp)==5&&(bonus_hp.set(0),get_store_value(hp)<5&&hp.update(m=>m+1)),correct_count.update(m=>m+1),answer_matrix.update(m=>[...m,f]),checkWin(l,get_store_value(answer_matrix))==!0&&win_status.set(1),time.set(60),comboCounter.update(m=>m+1),this.style.backgroundColor="blue",s(1,r="none"),new Audio(correct).play()):p!=null&&p!=x&&(console.log("wrong"),bonus_hp.set(0),wrong_count.update(_=>_+1),time.set(60),comboCounter.set(0),hp.update(_=>_-1),new Audio(incorrect).play(),this.style.backgroundColor="brown",setTimeout(()=>{this.style.transition="0.5s",this.style.backgroundColor="transparent",this.style.border="3px solid white"},500)),count.update(d=>d+1),get_store_value(count)>get_store_value(max)&&count.set(0)}let o="";return t<5?o="a"+t:t<10?o="b"+t:t<15?o="c"+t:t<20?o="d"+t:t<25&&(o="e"+t),n.$$set=p=>{"a"in p&&s(0,a=p.a),"i"in p&&s(4,t=p.i)},[a,r,o,i,t]}class Span extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{a:0,i:4})}}const _page_svelte_svelte_type_style_lang="";function get_each_context(n,e,s){const a=n.slice();return a[19]=e[s],a[21]=s,a}function create_each_block(n){let e,s;return e=new Span({props:{a:n[19],i:n[21]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,t){mount_component(e,a,t),s=!0},p(a,t){const r={};t&2&&(r.a=a[19]),e.$set(r)},i(a){s||(transition_in(e.$$.fragment,a),s=!0)},o(a){transition_out(e.$$.fragment,a),s=!1},d(a){destroy_component(e,a)}}}function create_default_slot_1(n){let e,s,a=ensure_array_like(n[1]),t=[];for(let l=0;l<a.length;l+=1)t[l]=create_each_block(get_each_context(n,a,l));const r=l=>transition_out(t[l],1,1,()=>{t[l]=null});return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=empty()},l(l){for(let i=0;i<t.length;i+=1)t[i].l(l);e=empty()},m(l,i){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,i);insert_hydration(l,e,i),s=!0},p(l,i){if(i&2){a=ensure_array_like(l[1]);let o;for(o=0;o<a.length;o+=1){const p=get_each_context(l,a,o);t[o]?(t[o].p(p,i),transition_in(t[o],1)):(t[o]=create_each_block(p),t[o].c(),transition_in(t[o],1),t[o].m(e.parentNode,e))}for(group_outros(),o=a.length;o<t.length;o+=1)r(o);check_outros()}},i(l){if(!s){for(let i=0;i<a.length;i+=1)transition_in(t[i]);s=!0}},o(l){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)transition_out(t[i]);s=!1},d(l){l&&detach(e),destroy_each(t,l)}}}function create_if_block_1(n){let e,s,a="You've ran out of HP!",t,r,l,i,o="Tip: You can regain HP from answering correctly 5 times consecutively",p,f,x,d,_,m,b,E,T="Start a new match",V,q,Q="Return",g,h;return{c(){e=element("div"),s=element("span"),s.textContent=a,t=element("br"),r=element("br"),l=space(),i=element("small"),i.textContent=o,p=space(),f=element("br"),x=element("br"),d=space(),_=element("hr"),m=space(),b=element("div"),E=element("button"),E.textContent=T,V=space(),q=element("button"),q.textContent=Q,this.h()},l(w){e=claim_element(w,"DIV",{class:!0});var v=children(e);s=claim_element(v,"SPAN",{"data-svelte-h":!0}),get_svelte_dataset(s)!=="svelte-5kf99g"&&(s.textContent=a),t=claim_element(v,"BR",{}),r=claim_element(v,"BR",{}),l=claim_space(v),i=claim_element(v,"SMALL",{"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-g1q4j3"&&(i.textContent=o),p=claim_space(v),f=claim_element(v,"BR",{}),x=claim_element(v,"BR",{}),d=claim_space(v),_=claim_element(v,"HR",{class:!0}),m=claim_space(v),b=claim_element(v,"DIV",{class:!0,style:!0});var y=children(b);E=claim_element(y,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(E)!=="svelte-h444mx"&&(E.textContent=T),V=claim_space(y),q=claim_element(y,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(q)!=="svelte-1wvu94"&&(q.textContent=Q),y.forEach(detach),v.forEach(detach),this.h()},h(){attr(_,"class","svelte-1w88gpk"),attr(E,"class","svelte-1w88gpk"),attr(q,"class","svelte-1w88gpk"),attr(b,"class","game-stat button-group svelte-1w88gpk"),set_style(b,"justify-content","center"),attr(e,"class","modal-container svelte-1w88gpk")},m(w,v){insert_hydration(w,e,v),append_hydration(e,s),append_hydration(e,t),append_hydration(e,r),append_hydration(e,l),append_hydration(e,i),append_hydration(e,p),append_hydration(e,f),append_hydration(e,x),append_hydration(e,d),append_hydration(e,_),append_hydration(e,m),append_hydration(e,b),append_hydration(b,E),append_hydration(b,V),append_hydration(b,q),g||(h=[listen(E,"click",n[10]),listen(q,"click",n[11])],g=!0)},p:noop,d(w){w&&detach(e),g=!1,run_all(h)}}}function create_if_block(n){let e,s,a="🎉You have won!🎉",t,r,l,i,o="Game has been recorded to your match history.",p,f,x,d,_,m,b,E="Game Stats",T,V,q,Q,g,h,w="Time finished",v,y,C,S,D,A,oe="Highest answer streak",X,I,O,ce,_e,Y,ve="Correct answers",R,Z,de,W=get_store_value(correct_count)+"",ge,pe,N,me="Wrong answers",le,L,M,H=get_store_value(wrong_count)+"",ye;return{c(){e=element("div"),s=element("span"),s.textContent=a,t=element("br"),r=element("br"),l=space(),i=element("small"),i.textContent=o,p=space(),f=element("br"),x=element("br"),d=space(),_=element("hr"),m=space(),b=element("span"),b.textContent=E,T=space(),V=element("br"),q=element("br"),Q=space(),g=element("div"),h=element("p"),h.textContent=w,v=space(),y=element("p"),C=text(": "),S=text(n[5]),D=space(),A=element("p"),A.textContent=oe,X=space(),I=element("p"),O=text(": "),ce=text(n[4]),_e=space(),Y=element("p"),Y.textContent=ve,R=space(),Z=element("p"),de=text(": "),ge=text(W),pe=space(),N=element("p"),N.textContent=me,le=space(),L=element("p"),M=text(": "),ye=text(H),this.h()},l(G){e=claim_element(G,"DIV",{class:!0});var u=children(e);s=claim_element(u,"SPAN",{"data-svelte-h":!0}),get_svelte_dataset(s)!=="svelte-x0efpq"&&(s.textContent=a),t=claim_element(u,"BR",{}),r=claim_element(u,"BR",{}),l=claim_space(u),i=claim_element(u,"SMALL",{"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-ag8h37"&&(i.textContent=o),p=claim_space(u),f=claim_element(u,"BR",{}),x=claim_element(u,"BR",{}),d=claim_space(u),_=claim_element(u,"HR",{class:!0}),m=claim_space(u),b=claim_element(u,"SPAN",{"data-svelte-h":!0}),get_svelte_dataset(b)!=="svelte-1hpu3un"&&(b.textContent=E),T=claim_space(u),V=claim_element(u,"BR",{}),q=claim_element(u,"BR",{}),Q=claim_space(u),g=claim_element(u,"DIV",{class:!0});var $=children(g);h=claim_element($,"P",{"data-svelte-h":!0}),get_svelte_dataset(h)!=="svelte-nga66p"&&(h.textContent=w),v=claim_space($),y=claim_element($,"P",{});var ke=children(y);C=claim_text(ke,": "),S=claim_text(ke,n[5]),ke.forEach(detach),D=claim_space($),A=claim_element($,"P",{"data-svelte-h":!0}),get_svelte_dataset(A)!=="svelte-17e32cg"&&(A.textContent=oe),X=claim_space($),I=claim_element($,"P",{});var ue=children(I);O=claim_text(ue,": "),ce=claim_text(ue,n[4]),ue.forEach(detach),_e=claim_space($),Y=claim_element($,"P",{"data-svelte-h":!0}),get_svelte_dataset(Y)!=="svelte-i6r21p"&&(Y.textContent=ve),R=claim_space($),Z=claim_element($,"P",{});var U=children(Z);de=claim_text(U,": "),ge=claim_text(U,W),U.forEach(detach),pe=claim_space($),N=claim_element($,"P",{"data-svelte-h":!0}),get_svelte_dataset(N)!=="svelte-1nzj1xu"&&(N.textContent=me),le=claim_space($),L=claim_element($,"P",{});var se=children(L);M=claim_text(se,": "),ye=claim_text(se,H),se.forEach(detach),$.forEach(detach),u.forEach(detach),this.h()},h(){attr(_,"class","svelte-1w88gpk"),attr(g,"class","game-stat svelte-1w88gpk"),attr(e,"class","modal-container svelte-1w88gpk")},m(G,u){insert_hydration(G,e,u),append_hydration(e,s),append_hydration(e,t),append_hydration(e,r),append_hydration(e,l),append_hydration(e,i),append_hydration(e,p),append_hydration(e,f),append_hydration(e,x),append_hydration(e,d),append_hydration(e,_),append_hydration(e,m),append_hydration(e,b),append_hydration(e,T),append_hydration(e,V),append_hydration(e,q),append_hydration(e,Q),append_hydration(e,g),append_hydration(g,h),append_hydration(g,v),append_hydration(g,y),append_hydration(y,C),append_hydration(y,S),append_hydration(g,D),append_hydration(g,A),append_hydration(g,X),append_hydration(g,I),append_hydration(I,O),append_hydration(I,ce),append_hydration(g,_e),append_hydration(g,Y),append_hydration(g,R),append_hydration(g,Z),append_hydration(Z,de),append_hydration(Z,ge),append_hydration(g,pe),append_hydration(g,N),append_hydration(g,le),append_hydration(g,L),append_hydration(L,M),append_hydration(L,ye)},p(G,u){u&32&&set_data(S,G[5]),u&16&&set_data(ce,G[4])},d(G){G&&detach(e)}}}function create_default_slot(n){let e;function s(r,l){if(r[3]==!1)return create_if_block;if(r[3]==!0)return create_if_block_1}let a=s(n),t=a&&a(n);return{c(){t&&t.c(),e=empty()},l(r){t&&t.l(r),e=empty()},m(r,l){t&&t.m(r,l),insert_hydration(r,e,l)},p(r,l){a===(a=s(r))&&t?t.p(r,l):(t&&t.d(1),t=a&&a(r),t&&(t.c(),t.m(e.parentNode,e)))},d(r){r&&detach(e),t&&t.d(r)}}}function create_fragment(n){let e,s="",a,t,r,l,i,o,p,f,x;return o=new Card({props:{questionString:n[2],$$slots:{default:[create_default_slot_1]},$$scope:{ctx:n}}}),f=new Modal({props:{centered:!0,opened:n[0],target:"body",title:"Game ended",overflow:"inside",closeOnClickOutside,closeOnEscape,$$slots:{default:[create_default_slot]},$$scope:{ctx:n}}}),f.$on("close",n[6]),{c(){e=element("div"),e.innerHTML=s,a=space(),t=element("hr"),r=space(),l=element("body"),i=element("div"),create_component(o.$$.fragment),p=space(),create_component(f.$$.fragment),this.h()},l(d){e=claim_element(d,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-13ca06v"&&(e.innerHTML=s),a=claim_space(d),t=claim_element(d,"HR",{class:!0}),r=claim_space(d),l=claim_element(d,"BODY",{});var _=children(l);i=claim_element(_,"DIV",{});var m=children(i);claim_component(o.$$.fragment,m),p=claim_space(m),claim_component(f.$$.fragment,m),m.forEach(detach),_.forEach(detach),this.h()},h(){attr(e,"id","header"),attr(e,"class","svelte-1w88gpk"),attr(t,"class","svelte-1w88gpk")},m(d,_){insert_hydration(d,e,_),insert_hydration(d,a,_),insert_hydration(d,t,_),insert_hydration(d,r,_),insert_hydration(d,l,_),append_hydration(l,i),mount_component(o,i,null),append_hydration(i,p),mount_component(f,i,null),x=!0},p(d,[_]){const m={};_&4&&(m.questionString=d[2]),_&4194306&&(m.$$scope={dirty:_,ctx:d}),o.$set(m);const b={};_&1&&(b.opened=d[0]),_&4194360&&(b.$$scope={dirty:_,ctx:d}),f.$set(b)},i(d){x||(transition_in(o.$$.fragment,d),transition_in(f.$$.fragment,d),x=!0)},o(d){transition_out(o.$$.fragment,d),transition_out(f.$$.fragment,d),x=!1},d(d){d&&(detach(e),detach(a),detach(t),detach(r),detach(l)),destroy_component(o),destroy_component(f)}}}let closeOnClickOutside=!1,closeOnEscape=!1;function UrlExists(n){var e=new XMLHttpRequest;return e.open("GET",n,!1),e.send(),e.status!=404}function getList(n){return n.map(a=>({value:a,sort:Math.random()})).sort((a,t)=>a.sort-t.sort).map(({value:a})=>a)}function questionBuilder(n,e,s){let a={addition:"+",subtraction:"-",multiplication:"*",division:"/"};return""+n+a[e]+s}function instance(n,e,s){let a,t,r,l=!1,i=0,o=setInterval(()=>{s(7,i+=1)},1e3);localStorage.token=0;let p="",f={},x=[],d=[],_=new Audio(bg_msc);if(_.volume=.1,setTimeout(()=>{_.play()},1500),api.get("game_session")==null){let h=Math.floor(Math.random()*999999+1);api.set("game_session",h.toString()),p="../php/game_configs/"+h.toString()+".json";let w=""+h+".json",v=0;for(f={path:w},v=0;v<25;v++){let y=Math.floor(1+Math.random()*25),C=Math.floor(1+Math.random()*25);switch(Math.floor(Math.random()*4)){case 0:let D=y+C;f[v]={firstVal:y,secondVal:C,operator:"addition",answer:Math.round(D*100)/100};break;case 1:let A=y-C;f[v]={firstVal:y,secondVal:C,operator:"subtraction",answer:Math.round(A*100)/100};break;case 2:let oe=y*C;f[v]={firstVal:y,secondVal:C,operator:"multiplication",answer:Math.round(oe*100)/100};break;case 3:let X=y/C;f[v]={firstVal:y,secondVal:C,operator:"division",answer:Math.round(X*100)/100};break}}onMount(async function(){await(await fetch("https://localhost/sv/bingo/src/routes/php/game_config_save.php",{method:"POST",body:JSON.stringify(f)})).text()=="1"?(console.log("loaded successfully"),b()):console.log("config not loaded to the server")})}else p="../php/game_configs/"+api.get("game_session")+".json",b();function m(){return __vitePreload(()=>import(p),[],import.meta.url)}async function b(){let h=[],w=[];UrlExists("src/routes/php/game_configs/"+api.get("game_session")+".json")==!0?m().then(C=>{for(let S in C.default)C.default.hasOwnProperty(S)&&typeof C.default[S]=="object"&&h.push(C.default[S])}).then(()=>{s(1,x=getList(h)),getList(x).forEach(S=>{w.push(questionBuilder(S.firstVal,S.operator,S.secondVal))}),s(2,d=w)}):(api.remove("game_session"),window.location.href="/singleplayer")}async function E(h){const v=new Date().toLocaleDateString();let y={game:api.get("game_session"),username:api.get("username"),time:r,streak:V,correct:get_store_value(correct_count),wrong:get_store_value(wrong_count),status:h,date:v},S=await(await fetch("https://localhost/sv/bingo/src/routes/php/match_save.php",{method:"POST",body:JSON.stringify(y)})).text();console.log(S)}hp.subscribe(h=>{h==0&&(s(3,T=!0),s(0,l=!0),clearInterval(o),E(0),api.remove("game_session"))}),win_status.subscribe(h=>{h>0&&(s(0,l=!0),clearInterval(o),E(1))});let T=!1,V=0;comboCounter.subscribe(h=>{let w=h;w>V&&s(4,V=w)}),addEventListener("beforeunload",()=>{});function q(){api.remove("game_session"),window.location.href="/singleplayer"}const Q=()=>{api.remove("game_session"),location.reload()},g=()=>{window.location.href="/singleplayer",api.remove("game_session")};return n.$$.update=()=>{n.$$.dirty&128&&s(9,a=Math.floor(i/60)),n.$$.dirty&128&&s(8,t=i%60),n.$$.dirty&768&&s(5,r=""+a+" minute(s) & "+t+" second(s)")},[l,x,d,T,V,r,q,i,t,a,Q,g]}class Page extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{})}}export{Page as component};
