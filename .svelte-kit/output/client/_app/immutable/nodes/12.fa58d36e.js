import{s as x,f as m,a as $,g as f,h as V,A as k,c as C,d as H,j as c,i as D,x as s,B as h,K as q,V as S}from"../chunks/scheduler.ce5fb7fd.js";import{S as z,i as K,b as F,d as Q,m as W,a as X,t as Y,e as Z}from"../chunks/index.cdd0258f.js";import{a as j}from"../chunks/js.cookie.edb2da2a.js";import{a as ee,b as te}from"../chunks/mixkit-game-click-1114.ebb665c7.js";import{i as N}from"../chunks/webSocketConnection.61438940.js";/* empty css                      */import{M as oe}from"../chunks/Modal.dbb8c5fa.js";function le(n){let t,l,M,r,v="Join",g,o,d,T;return{c(){t=m("div"),l=m("input"),M=$(),r=m("button"),r.textContent=v,g=$(),o=m("br"),this.h()},l(p){t=f(p,"DIV",{class:!0});var e=V(t);l=f(e,"INPUT",{type:!0,name:!0,id:!0,class:!0}),M=C(e),r=f(e,"BUTTON",{class:!0,"data-svelte-h":!0}),k(r)!=="svelte-asdme2"&&(r.textContent=v),g=C(e),o=f(e,"BR",{}),e.forEach(H),this.h()},h(){c(l,"type","text"),c(l,"name",""),c(l,"id",""),c(l,"class","svelte-1ohlt3j"),c(r,"class","svelte-1ohlt3j"),c(t,"class","modal-container svelte-1ohlt3j")},m(p,e){D(p,t,e),s(t,l),S(l,n[1]),s(t,M),s(t,r),s(t,g),s(t,o),d||(T=[h(l,"input",n[6]),h(r,"click",n[5])],d=!0)},p(p,e){e&2&&l.value!==p[1]&&S(l,p[1])},d(p){p&&H(t),d=!1,q(T)}}}function se(n){let t,l,M="<h1>MATH</h1> <h2>BINGO</h2>",r,v,g,o,d,T="Multiplayer Mode",p,e,J='<button class="svelte-1ohlt3j">Create room</button>',L,_,P="Join room",A,E,O,I,b,U='<button class="svelte-1ohlt3j">Back</button>',B,y,w,R,G;return y=new oe({props:{centered:!0,opened:n[0],target:"body",title:"Join room",overflow:"inside",closeOnClickOutside:ne,closeOnEscape:ae,$$slots:{default:[le]},$$scope:{ctx:n}}}),y.$on("close",n[7]),{c(){t=m("html"),l=m("div"),l.innerHTML=M,r=$(),v=m("hr"),g=$(),o=m("div"),d=m("p"),d.textContent=T,p=$(),e=m("a"),e.innerHTML=J,L=$(),_=m("button"),_.textContent=P,A=$(),E=m("br"),O=m("br"),I=$(),b=m("a"),b.innerHTML=U,B=$(),F(y.$$.fragment),this.h()},l(a){t=f(a,"HTML",{lang:!0});var u=V(t);l=f(u,"DIV",{class:!0,"data-svelte-h":!0}),k(l)!=="svelte-17hlipe"&&(l.innerHTML=M),r=C(u),v=f(u,"HR",{}),g=C(u),o=f(u,"DIV",{id:!0,class:!0});var i=V(o);d=f(i,"P",{class:!0,"data-svelte-h":!0}),k(d)!=="svelte-11kn65l"&&(d.textContent=T),p=C(i),e=f(i,"A",{href:!0,"data-svelte-h":!0}),k(e)!=="svelte-dukhpf"&&(e.innerHTML=J),L=C(i),_=f(i,"BUTTON",{class:!0,"data-svelte-h":!0}),k(_)!=="svelte-zwfy57"&&(_.textContent=P),A=C(i),E=f(i,"BR",{}),O=f(i,"BR",{}),I=C(i),b=f(i,"A",{href:!0,"data-svelte-h":!0}),k(b)!=="svelte-my547a"&&(b.innerHTML=U),i.forEach(H),u.forEach(H),B=C(a),Q(y.$$.fragment,a),this.h()},h(){c(l,"class","title"),c(d,"class","svelte-1ohlt3j"),c(e,"href","/multiplayer_room"),c(_,"class","svelte-1ohlt3j"),c(b,"href","/main"),c(o,"id","btn-div"),c(o,"class","svelte-1ohlt3j"),c(t,"lang","ts")},m(a,u){D(a,t,u),s(t,l),s(t,r),s(t,v),s(t,g),s(t,o),s(o,d),s(o,p),s(o,e),s(o,L),s(o,_),s(o,A),s(o,E),s(o,O),s(o,I),s(o,b),D(a,B,u),W(y,a,u),w=!0,R||(G=[h(e,"focus",n[2]),h(e,"mouseover",n[2]),h(e,"click",n[3]),h(_,"focus",n[2]),h(_,"mouseover",n[2]),h(_,"click",n[4]),h(b,"focus",n[2]),h(b,"mouseover",n[2]),h(b,"click",n[3])],R=!0)},p(a,[u]){const i={};u&1&&(i.opened=a[0]),u&514&&(i.$$scope={dirty:u,ctx:a}),y.$set(i)},i(a){w||(X(y.$$.fragment,a),w=!0)},o(a){Y(y.$$.fragment,a),w=!1},d(a){a&&(H(t),H(B)),Z(y,a),R=!1,q(G)}}}let ne=!0,ae=!0;function re(n,t,l){j.remove("multiplayer_session"),j.remove("host_name"),j.set("host","false"),j.get("username");function M(){let e=new Audio(ee);e.volume=.3,e.play()}function r(){let e=new Audio(te);e.volume=.3,e.play()}let v=!1;function g(){l(0,v=!0),r()}let o="";function d(){N.emit("join",{room:o,player:j.get("username")})}N.on("no-room",()=>{console.log("Room not found")}),N.on("room-found",e=>{o==e.room&&e!=!1?(j.set("multiplayer_session",e.room),window.location.href="/game_multiplayer",console.log("found")):e==!1&&(j.remove("mutiplayer_session"),console.log("cannot rejoin"))});function T(){o=this.value,l(1,o)}return[v,o,M,r,g,d,T,()=>{l(0,v=!1)}]}class he extends z{constructor(t){super(),K(this,t,re,se,x,{})}}export{he as component};
